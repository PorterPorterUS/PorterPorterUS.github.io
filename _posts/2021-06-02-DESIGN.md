---
layout: post
author: Xusheng Ji
title: "Design"
tags: algorithm leetcode
categories: Design
---

{% include lib/mathjax.html %}


<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: [
      "MathMenu.js",
      "MathZoom.js",
      "AssistiveMML.js",
      "a11y/accessibility-menu.js"
    ],
    jax: ["input/TeX", "output/CommonHTML"],
    TeX: {
      extensions: [
        "AMSmath.js",
        "AMSsymbols.js",
        "noErrors.js",
        "noUndefined.js",
      ]
    }
  });
</script>


Design 类的题目

### 1166.Design File System

### 创建一个file system,使得可以创建和查询path,一个合理的path的格式为"/xxx/xxx/xxx", ""以及"/"不合法
### 1.bool createPath（string path，int value）创建一个新路径，并在可能的情况下将一个值与之关联并返回true。 如果路径已经存在或其父路径不存在，则返回false。
### 2.int get（string path）返回与path关联的值，如果路径不存在，则返回-1。

### 1.创建path的时候需要注意两点，首先确认字符串是合法的，再确认当前path没有被创建过，最后确认这个路径的父母存在于map中。
```java
class FileSystem {
    HashMap<String,Integer> map;
    public FileSystem() {
        map = new HashMap<>();
    }
    
    public boolean createPath(String path, int value) {
        if(path==null || path.equals("/") || map.containsKey(path)){
          return false;
        }
        int index = path.lastIndexOf("/");
        String parent = path.substring(0,index);
        if(parent.length()>0 && !map.containsKey(parent)){
             return false;
        }
     map.put(path,value);
        return true;
     
    }
    
    public int get(String path) {
        return map.getOrDefault(path,-1);
    }
}
```


### 380.Insert Delete GetRandom O(1)

### RandomizedSet() Initializes the RandomizedSet object.
### bool insert(int val) Inserts an item val into the set if not present. Returns true if the item was not present, false otherwise.
### bool remove(int val) Removes an item val from the set if present. Returns true if the item was present, false otherwise
### int getRandom() Returns a random element from the current set of elements (it's guaranteed that at least one element exists when this method is called). Each element must have the same probability of being returned.

```java
class RandomizedSet {
    HashMap<Integer,Integer> map;
    ArrayList<Integer> list;
    Random rand;
    /** Initialize your data structure here. */
    public RandomizedSet() {
        map = new HashMap<>();
        list = new ArrayList<>();
        rand = new Random();
    }
    
    /** Inserts a value to the set. Returns true if the set did not already contain the specified element. */
    public boolean insert(int val) {
        if(map.containsKey(val)){
          return false;
        }
        int index = list.size();
        list.add(index,val);
        //list.set(index,val);
        map.put(val,list.size()-1);
        return true;
    }
    
    /** Removes a value from the set. Returns true if the set contained the specified element. */
    public boolean remove(int val) {
        if(!map.containsKey(val)){
          return false;
        }
        int lastItem = list.get(list.size()-1);
        int index = list.indexOf(val);
        list.set(index,lastItem);
        list.remove(list.size()-1);
        map.put(lastItem,index);
        map.remove(val);
        //map.put(lastItem,index);
        return true;
    }
    
    /** Get a random element from the set. */
    public int getRandom() {
        return list.get(rand.nextInt(list.size()));
    }
}

/**
 * Your RandomizedSet object will be instantiated and called as such:
 * RandomizedSet obj = new RandomizedSet();
 * boolean param_1 = obj.insert(val);
 * boolean param_2 = obj.remove(val);
 * int param_3 = obj.getRandom();
 */

```






